<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body style="font-size:10pt;font-family:Sans Serif">
<p align="center"><span style="font-family:Comic Sans MS;font-size:28pt;font-weight:600"><img alt=CroixRouge.png height=27 src=Doc_synoptux_fichiers/image011.gif v:shapes=Image_x0020_39 width=27 >SynopTux<br /></span><span style="font-family:Comic Sans MS;font-size:22pt;font-weight:600">Mode opératoire</span></p>
<p align="center"><span style="font-family:Comic Sans MS"><hr></span></p>
<p><a name="Sommaire"></a><span style="font-family:Comic Sans MS;font-size:14pt;font-weight:600;text-decoration:underline">Sommaire</span></p>
<p><span style="font-family:Comic Sans MS">1.     </span><a href="#Description_gene"><span style="font-family:Comic Sans MS;font-weight:600">Description générale de Synoptux</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br /></span><span style="font-family:Comic Sans MS">2.     </span><a href="#Mise_en_oeuvre"><span style="font-family:Comic Sans MS;font-weight:600">Mise en oeuvre du programme</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.1       </span><a href="#param_gene"><span style="font-family:Comic Sans MS;font-weight:600">Paramètres généraux</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2       </span><a href="#saisie_donnees"><span style="font-family:Comic Sans MS;font-weight:600">Saisie des données de base</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.1   </span><a href="#les_box"><span style="font-family:Comic Sans MS;font-weight:600">Les Box</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.2   </span><a href="#les_etats"><span style="font-family:Comic Sans MS;font-weight:600">Les états</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.3   </span><a href="#les_taches"><span style="font-family:Comic Sans MS;font-weight:600">Les Tâches</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.4   </span><a href="#les_responsables"><span style="font-family:Comic Sans MS;font-weight:600">Les responsables</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.5   </span><a href="#les_dest_sortie"><span style="font-family:Comic Sans MS;font-weight:600">Les destinations de sorties</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.6   </span><a href="#les_dest_abs"><span style="font-family:Comic Sans MS;font-weight:600">Les destinations dabsences</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.7   </span><a href="#param_ini"><span style="font-family:Comic Sans MS;font-weight:600">Paramétrages (Ini).</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.2.8   </span><a href="#mise_enforme_css"><span style="font-family:Comic Sans MS;font-weight:600">Mise en forme (css)</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.3       </span><a href="#presentation"><span style="font-family:Comic Sans MS;font-weight:600">Présentation des fenêtres</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />2.4       </span><a href="#filtrage"><span style="font-family:Comic Sans MS;font-weight:600">Filtrage par responsable</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br /></span><span style="font-family:Comic Sans MS">3.     </span><a href="#Mode_ope"><span style="font-family:Comic Sans MS;font-weight:600">Mode opératoire du synoptique</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.1       </span><a href="#Patient"><span style="font-family:Comic Sans MS;font-weight:600">Patient</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.2       </span><a href="#Plier"><span style="font-family:Comic Sans MS;font-weight:600">Plier  Déplier</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.3       </span><a href="#Drtux"><span style="font-family:Comic Sans MS;font-weight:600">Appel DrTux</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.4       </span><a href="#Supprimertache"><span style="font-family:Comic Sans MS;font-weight:600">Supprimer la tâche</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.5       </span><a href="#Info_tache"><span style="font-family:Comic Sans MS;font-weight:600">Informations sur la tâche</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.6       </span><a href="#Tache"><span style="font-family:Comic Sans MS;font-weight:600">Tâche</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.7       </span><a href="#EtatEncours"><span style="font-family:Comic Sans MS;font-weight:600">Etat en cours (type menu)</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.8       </span><a href="#EtatEncours"><span style="font-family:Comic Sans MS;font-weight:600">Etat en cours (type bouton)</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.9       </span><a href="#InfoPatient"><span style="font-family:Comic Sans MS;font-weight:600">Informations sur le patient</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.10     </span><a href="#Deplacer"><span style="font-family:Comic Sans MS;font-weight:600">Déplacer le patient</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.11     </span><a href="#ChangerResp"><span style="font-family:Comic Sans MS;font-weight:600">Changement de responsable</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.12     </span><a href="#Heure"><span style="font-family:Comic Sans MS;font-weight:600">Heure d'entrée</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.13     </span><a href="#Heure"><span style="font-family:Comic Sans MS;font-weight:600">Heure de sortie</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br />3.14     </span><a href="#Box"><span style="font-family:Comic Sans MS;font-weight:600">Box</span></a><span style="font-family:Comic Sans MS;font-weight:600"><br /></span><span style="font-family:Comic Sans MS">4.     </span><a href="#Procedure"><span style="font-family:Comic Sans MS;font-weight:600">Procédure dentrée dun patient</span></a><span style="font-family:Comic Sans MS;font-weight:600">.<br />4.1       </span><a href="#Procedure"><span style="font-family:Comic Sans MS;font-weight:600">Par fichier texte</span></a><span style="font-family:Comic Sans MS;font-weight:600">.<br />4.2       </span><a href="#creatbase"><span style="font-family:Comic Sans MS;font-weight:600">Par accès direct à la base</span></a><span style="font-family:Comic Sans MS;font-weight:600">.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600"> </span></p>
<p align="center"><span style="font-family:Comic Sans MS"><hr></span></p>
<p><a name="Description_gene"></a><span style="font-family:Comic Sans MS">2.     </span><span style="font-family:Comic Sans MS;font-weight:600;text-decoration:underline">Description générale de Synoptux</span><span style="font-family:Comic Sans MS">                                                                                                                                       </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1049 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Synoptux est un logiciel de suivi et de surveillance des tâches à réaliser pour les patients intégrant un service d'urgence.</span></p>
<p><span style="font-family:Comic Sans MS">Il est particulièrement utile lorsque les actes devant être pratiqués, émanent de plusieurs prescripteurs et concernent de nombreux intervenants.</span></p>
<p><span style="font-family:Comic Sans MS">Synoptux a été conçu pour éviter les pertes d'information et pour assurer une vision instantanée et permanente des tâches à réaliser et de leur priorité. L'ergonomie du logiciel assure une utilisation simple, intuitive et rapide en évitant toute saisie superflue.</span></p>
<p><span style="font-family:Comic Sans MS">Lexemple ci-dessous montre ainsi très simplement que :</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Mireille DUPUICH attend en salle dattente pour un poigné cassé,</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">deux patients sont en cours de traitement dans les Box S1 et S2,suivis par le docteur Sevin.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Philippe SILOUVA est en train de passer un scanner dans un autre service,</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">3 patients sont déjà sortis du service à 21h42, 16h28 et 16h29, pour aller à lhôpital nord ou à la montagne</span></p>
<p><span style="font-family:Comic Sans MS"><img border=0 height=483 src=Doc_synoptux_fichiers/image016.jpg v:shapes=Image_x0020_34 width=866 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS">Toutes les actions effectuées pour un patient qui est inscrit dans synoptux sont archivées dans la base de données . Ces informations pourront si nécessaire être exploitées à postériori à des fins statistiques. On pourra par exemple obtenir le nombre dactes effectués sur une période, ou le temps moyen nécessaire par tâche en période de stress, ou la durée passée par patient en salle dattente, etc</span></p>
<p><span style="font-family:Comic Sans MS">5.     </span><span style="font-family:Comic Sans MS;font-weight:600;text-decoration:underline">Mise e<a name="Mise_en_oeuvre"></a>n oeuvre du programme</span><span style="font-family:Comic Sans MS">                                                                                                                                           </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1047 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">SynopTux doit être installé dans l'arborescence classique de MedinTux, dans le dossier « Programmes ». Le package initial doit contenir l'exécutable Sypnotux et les fichiers de paramétrage synoptux.ini, synoptux.css et synoptux.cfg.</span></p>
<p><span style="font-family:Comic Sans MS">Les données utilisées par SynopTux sont stockées dans une base MySql. Ce programme étant naturellement lié à Medintux, les tables peuvent être créées dans la base « drtuxtest » ou dans une base indépendante que nous appellerons par défaut « Synoptux ».</span></p>
<p><span style="font-family:Comic Sans MS">Le démarrage de SynopTux nécessite, suite à l'installation du package synoptux, un paramétrage initial de l'accès aux bases de donnnées.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.1 Paramè<a name="param_gene"></a>tres généraux</span></p>
<p><span style="font-family:Comic Sans MS">Le fichier Synoptux.ini contient les paramètres suivants qui devront être adaptés avant le premier lancement du programme.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">[Connexion_SynopTux] </span><span style="font-family:Comic Sans MS">: Il s'agit des paramètres de connexion à la base de données contenant les tables box, taches, encours, etc...<br />(Cette base peut être la même que celle utilisée par MedinTux.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">[Connexion_MedinTux] </span><span style="font-family:Comic Sans MS">: Il s'agit des paramètres de connexion à la base Medintux (Drtuxtest). <br />Cette connexion n'est pas obligatoire, elle est utilisée pour afficher les précisions éventuelles relatives à une tâche.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">[Interface] </span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Dossier_Entrees : </span><span style="font-family:Comic Sans MS">Indiquer le chemin du dossier dans lequel seront déposés les fichiers texte d'entrée de patient dans le synoptique.<br />Ce dossier doit exister, même si les entrées sont directement insérées dans les tables par le logiciel associé (Medintux).</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Code_Box_Par_Defaut</span><span style="font-family:Comic Sans MS"> : il s'agit du code du box dans lequel seront placés les patients si aucun autre code box n'est précisé dans le fichier d'entrée.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Bouton_Acces_DrTux : </span><span style="font-family:Comic Sans MS">Indiquer OUI ou NON selon que l'on souhaite faire apparaître un bouton de lancement de « drtux » à partir d'un patient inscrit dans SynopTux.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Chemin_du_calendrier</span><span style="font-family:Comic Sans MS"> : Indiquer le chemin complet d'accès au programme de Medintux permettant d'afficher un calendrier pour la saisie des heures de sortie.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Confirmation_Sortie_Definitive</span><span style="font-family:Comic Sans MS"> : Indiquer OUI , si l'on souhaite faire afficher une fenêtre de confirmation lors de la sortie définitive d'un patient du synoptique.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">[Affichage] </span></p>
<p><span style="font-family:Comic Sans MS">Il s'agit des tailles et couleurs des différentes éléments relatifs aux patients constituant le synoptique.<br />Les couleurs des objets liés aux médecins, taches sont paramétrables dans la gestion de ces mêmes tables.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">[Timer] </span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Periodicite_controle_des_entrees</span><span style="font-family:Comic Sans MS"> : SynopTux contrôle régulièrement l'arrivée d'un nouveau fichier d'entrée dans le dossier paramétré ci-dessus, ou la création d'une nouvelle entrée dans la table « encours ».<br />On indique ici le nombre de secondes séparant chaque contrôle. (par defaut 10 s)</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Periodicite_clignotement_en_secondes : </span><span style="font-family:Comic Sans MS">il s'agit de la vitesse de clignotement d'un patient ou d'une tache lorsque qu'une tâche planifiée est en retard , ou dure trop longtemps.<br />Lorsque le patient est « déplié », c'est à dire que toutes les taches lui étant affectées sont affichées, c'est la tache en retard qui clignote. Lorsque le patient est « replié », c'est à dire que seul son nom apparaît, c'est le nom du patient qui clignote. (par defaut 1 s)</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Periodicite_controle_alarme_en_secondes</span><span style="font-family:Comic Sans MS"> : on indique ici le la fréquence à la quelle Synoptux contrôle les retards événtuels sur chaque tâche. (par defaut 10 s)</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS;font-weight:600">Delai_avant_suppression_des_sorties_en_mn : </span><span style="font-family:Comic Sans MS">Lorsque le traitement d'un patient est terminé, il est déplacé dans un box de type « Sortie ». On peut supprimer ce patient du box en utilisant la touche sortie. <br />Synoptux supprime automatiquement les patients du Box Sortie après un certain délai paramétré ici. (par défaut 1440 mn, soit 24 h).</span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2  Saisie des do<a name="saisie_donnees"></a>nnées de base</span></p>
<p><span style="font-family:Comic Sans MS">Le fonctionnement de Synoptux est très simple. Sa finalité est d'afficher en permanence les box ainsi que les patients qui les occupent.</span></p>
<p><span style="font-family:Comic Sans MS">La première étape est donc de saisir dans la table « box » la liste des endroits réels (ou virtuels) ou se trouvent les patients.</span></p>
<p><span style="font-family:Comic Sans MS">L'affectation d'un patient dans un box nécessite également la création de tâches correspondant aux actes qui seront prescrits ainsi que les états potentiels de chaque acte.</span></p>
<p><span style="font-family:Comic Sans MS">L'accès à ces tables se fait à partir du menu « Fichiers » .</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.1</span><span style="font-family:Comic Sans MS"> </span><span style="font-family:Comic Sans MS;font-weight:600">Les B<a name="les_box"></a>ox                                                                                                        </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1046 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Un box est caractérisé par :</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">un code alphanumérique qui devra être fourni par le logiciel maitre. (Medintux)</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Le libellé qui apparaît sur le synoptique.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Les couleurs de fond du box et de son titre.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Le nombre de place . On indiquera ici , 1 pour les box classiques de soins, et un chiffre plus élevé pour les emplacements virtuels tels les salles d'attentes ou les sorties.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Le type de box : Le fonctionnement du logiciel diffère en fonction de ce type.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Attente : accueille les patients non encore pris en charge.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Soins : normalement un seul patient par box .</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Absence provisoire : on déplace un patient dans ce type de box lorsqu'il est pris en charge par un autre service le temps d'un scanner par exemple. Le box occupé est ainsi libéré pour un autre patient.</span></p>
<p><span style="font-family:Courier New">o    </span><span style="font-family:Comic Sans MS">Sortie : On y déplace les patients qui ont été totalement traités et qui ont quitté l'établissement.</span></p>
<p><span style="font-family:Comic Sans MS">En fin de journée on peut ainsi consulter dans ce box l'ensemble des traitements effectués.</span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_7bbf9825.jpg border=0 height=399 src=Doc_synoptux_fichiers/image006.jpg v:shapes=Image_x0020_27 width=648 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.2   Les ét<a name="les_etats"></a>ats                                                                                                           </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1044 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Un état représente une étape que l'on souhaite visualiser dans le déroulement d'une tâche.</span></p>
<p><span style="font-family:Comic Sans MS">On pourra ainsi, facilement distinguer grâce à ses couleurs, une tâche pas encore commencée, une étape en cours de réalisation ou un tâche terminée.</span></p>
<p><span style="font-family:Comic Sans MS">On distinguera en particulier les états tels que « Annulé » ou « terminé » à l'aide de la case à cocher, afin de mettre à jour la date et l'heure de fin de tâche quand on sélectionnera ces états. </span></p>
<p><span style="font-family:Comic Sans MS">Attention, il faut tenir compte de l'ordre alphabétique des codes, car c'est ainsi qu'il apparaitront dans le tableau et les menus.</span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_dfee305.jpg border=0 height=402 src=Doc_synoptux_fichiers/image007.jpg v:shapes=Image_x0020_29 width=579 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.3   Les Tâc<a name="les_taches"></a>hes                                                                                           </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1042 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Cette notion est également commune avec le logiciel maitre (Medintux), puisque c'est dans ce dernier que l'on va indiquer à synoptux les différentes tâches à réaliser pour un patient.</span></p>
<p><span style="font-family:Comic Sans MS">Le code tâche, ainsi que les éventuelles heures de début et de fin devront être écrites dans le fichier d'entrée, ou directement dans la table « encours_taches » si l'alimentation de synoptux est directe.</span></p>
<p><span style="font-family:Comic Sans MS">Pour chaque tâche on indique :</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">un code alphanumérique (connu de drtux)</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">un libellé qui apparaît dans le synoptique.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">La couleur de la tache sur le tableau, ainsi que la couleur qui apparaitra en clignotant, si cette tâche avait du retard par rapport à sa date de début ou de fin prévue.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">La durée maximum prévue pour la réalisation de cette tâche. </span></p>
<p><span style="font-family:Comic Sans MS">Si cette information est alimentée, et qu'aucune date de fin prévue n'est fournie lors de la création de la tâche, une date de fin prévue est calculée en fonction de la date de début de la tâche plus cette durée maximum. Cette date sera testée par le contrôle de dépassement de délai de synoptux.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Les différents états possible pour cette tache.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">La manière dont ont souhaite faire apparaître les taches sur le synoptique.</span></p>
<p><span style="font-family:Comic Sans MS">Le choix bouton entraine l'affichage pour chaque tâche de 3 boutons maximum contenant les libellés des états.</span></p>
<p><span style="font-family:Comic Sans MS">Le choix menu entraine l'affichage d'un seul bouton contenant le libellé de l'état en cours. Un toucher sur ce bouton déroulera un menu contenant les autres états possibles. </span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_m4b86cd04.jpg border=0 height=394 src=Doc_synoptux_fichiers/image010.jpg v:shapes=Image_x0020_30 width=587 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.4 Les responsab<a name="les_responsables"></a>les                                                                              </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1040 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Le nom du praticien qui suit le patient apparaît dans le synoptique.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Une couleur propre lui est affectée afin de faciliter la visibilité.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Le code du responsable doit être connu par Medintux, car il est associé à chaque nouvelle entrées dans le synoptique.</span></p>
<p><span style="font-family:Symbol">·         </span><span style="font-family:Comic Sans MS">Ce code peut être le login utilisateur du médecin dans Medintux.</span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_m72c4cd4b.jpg border=0 height=397 src=Doc_synoptux_fichiers/image012.jpg v:shapes=Image_x0020_31 width=583 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.5   Les destinat<a name="les_dest_sortie"></a>ions de sorties                                                                 </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1038 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">On enregistre dans cette table les destinations les plus probables pour un patient lorsqu'il quitte la clinique.</span></p>
<p><span style="font-family:Comic Sans MS">Cette destination sera demandée à l'utilisateur lorsqu'il déplacera un patient d'un box de type « soins » vers un box de type « sortie ».</span></p>
<p><span style="font-family:Comic Sans MS">La saisie se fait dans la zone de texte en haut de la fenêtre puis en cliquant sur valider.</span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_3f7795a6.jpg border=0 height=499 src=Doc_synoptux_fichiers/image013.jpg v:shapes=Image_x0020_32 width=387 ></span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.6   Les de<a name="les_dest_abs"></a>stinations d'absence.                                                                        </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1036 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Cette destination sera demandée lorsqu'un patient sera momentanément déplacement dans un box de type « absence » pour subir un examen dans un autre service.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.7   Paramé<a name="param_ini"></a>trages (Ini).</span></p>
<p><span style="font-family:Comic Sans MS">Cette fonction permet d'accéder directement au paramètres généraux contenus dans le fichier « synoptux.ini ».</span></p>
<p><span style="font-family:Comic Sans MS">Les modifications apportées aux paramètres de connexions aux bases de données ne seront prises en comptes qu'après un redémarrage du programme.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2.8   Mise en f<a name="mise_enforme_css"></a><a name="presentation"></a>orme (css).</span></p>
<p><span style="font-family:Comic Sans MS">On accède ici au fichier synoptux.css qui contient les paramètres de mise en forme des objets du synoptique. (Police, taille, couleur, bordures, etc...) </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.3 Présentation des fenêtres</span></p>
<p><span style="font-family:Comic Sans MS">Lors du premier affichage SynopTux affiche les box en fonction des tailles indiquées dans synoptux.ini. Il est nécessaire de procéder ensuite à un positionnement des box compatible avec la taille de l'écran.</span></p>
<p><span style="font-family:Comic Sans MS">Cette opération peut se faire à partir du menu « Fenêtres ».</span></p>
<p><span style="font-family:Comic Sans MS">Afficher tout d'abord les box en « mode fenêtre » afin de pouvoir déplacer et redimentionner chaque box selon les besoins. </span></p>
<p><span style="font-family:Comic Sans MS">Appliquer ensuite un affichage en « mode cadre », puis « enregistrer les positions » pour conserver cette disposition à l'avenir.</span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.4 Filtrage par res<a name="filtrage"></a>ponsable</span></p>
<p><span style="font-family:Comic Sans MS">Par défaut SynopTux affiche tous les patients présents dans tous les box.</span></p>
<p><span style="font-family:Comic Sans MS">Il est possible de limiter l'affichage aux patients d'un seul médecin. Pour cela, utiliser le menu « Responsable » pour sélectionner un nom.</span></p>
<p align="center"><span style="font-family:Comic Sans MS"><hr></span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600;text-decoration:underline">3. <a name="Mode_ope"></a>Mode opératoire du synoptique</span><span style="font-family:Comic Sans MS">                                                                                                                                       </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1035 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS">Pour chaque patient présent dans un box, les actions suivantes peuvent être effectuées par un simple toucher du bouton concerné.</span></p>
<p><span style="font-family:Comic Sans MS"><img alt=synoptux_html_2bb0ea4f.jpg border=0 height=390 src=Doc_synoptux_fichiers/image014.jpg v:shapes=Image_x0020_26 width=595 ></span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.1       Pati<a name="Patient"></a>ent</span></p>
<p><span style="font-family:Comic Sans MS">Permet d'afficher ou masquer le nom du patient par respect d'anonymat.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.2        P<a name="Plier"></a>lier  Déplier</span></p>
<p><span style="font-family:Comic Sans MS">Permet d'afficher ou masquer les tâches prescrites pour un patient.</span></p>
<p><span style="font-family:Comic Sans MS">Par défaut dans les box de type absence ou sortie les patients sont repliés.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.3       Appel D<a name="Drtux"></a>rTux</span></p>
<p><span style="font-family:Comic Sans MS">Permet de lancer le programme passé en paramètre lors de la création de l'entrée pour le patient.</span></p>
<p><span style="font-family:Comic Sans MS">Dans l'environnement Medintux, le programme appelé sera « drtux » qui ouvrira automatiquement la fiche du patient concerné.</span></p>
<p><span style="font-family:Comic Sans MS">Pour cela le GUID du patient aura du être intégré également lors de la création de l'entrée (voir interface d'entrée).</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.4       Suppri<a name="Supprimertache"></a>mer la tâche</span></p>
<p><span style="font-family:Comic Sans MS">Ce bouton supprime simplement la tache concernée pour ce patient.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.5       Informati<a name="Info_tache"></a>ons sur la tâche                                                                          </span><a href="#Sommaire"><span style="font-family:Comic Sans MS;font-weight:600"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1033 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Cet icône représentant un oeil apparaît sur le bouton « tâche » si une information complémentaire est disponible.</span></p>
<p><span style="font-family:Comic Sans MS">Pour visualiser cette information il suffit d'un toucher sur le bouton « tache ».</span></p>
<p><span style="font-family:Comic Sans MS">La fenêtre « information » sera effacée sur un simple toucher n'importe où sur l'écran.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.6       Tâ<a name="Tache"></a>che</span></p>
<p><span style="font-family:Comic Sans MS">Affiche le libellé de la tâche et éventuellement un complément d'information très court fourni lors de la création de la tâche. (voir interface entrée)</span></p>
<p><a name="EtatEncours"></a><span style="font-family:Comic Sans MS;font-weight:600">2.7       Etat en cours (type menu)</span><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS">Affiche le libellé de la tâche en cours. Pour changer d'état, un toucher sur ce bouton déroule un menu contenant la liste des états disponibles.</span></p>
<p><span style="font-family:Comic Sans MS">Toucher le menu pour sélectionner le nouvel état.</span></p>
<p><span style="font-family:Comic Sans MS">Si on sélectionne un état de type « fin de tâche », l'heure fin de tâche est enregistrée. On considère que la tache est terminée. Le contrôle d'alerte des délais dépassés ne traitera plus cette tâche.</span></p>
<p><span style="font-family:Comic Sans MS">Si on sélectionne un état de type différent, cette date est alors effacée, et la tâche repasse sous contrôle.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.8       Etat en cours (type bouton)</span><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS">Dans ce cas tous les états possibles apparaissent à l'écran. L'état en cours sera signalé par un effet graphique (selon paramètres css), comme un cadre rouge par exemple. </span></p>
<p><span style="font-family:Comic Sans MS">Fonctionnement identique que ci-dessus pour la gestion des dates fin.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.9       Infor<a name="InfoPatient"></a>mations sur le patient</span></p>
<p><span style="font-family:Comic Sans MS">Permet d'afficher l'historique des tâches effectuées pour le patient. (Date d'entrée, date de début et fin de chaque tache, changement de responsable, déplacements, ...)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.10      Dépla<a name="Deplacer"></a>cer le patient</span></p>
<p><span style="font-family:Comic Sans MS">Permet de déplacer un patient d'un box à l'autre.</span></p>
<p><span style="font-family:Comic Sans MS">Pour effectuer un déplacement il faut toucher ce bouton pour le patient concerné dans le box d'origine, puis toucher le bouton box de destination.</span></p>
<p><span style="font-family:Comic Sans MS">Lorsque le box de destination est de type « absence » ou « sortie », la liste des destinations possibles est affichée et il suffit de toucher un élément de liste pour terminer le déplacement.</span></p>
<p><span style="font-family:Comic Sans MS">Si le box de destination est de type « sortie », le formulaire contenant la liste des destinations permet également de modifier l'heure de sortie. </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.11     Change<a name="ChangerResp"></a>ment de responsable</span></p>
<p><span style="font-family:Comic Sans MS">Ce bouton qui affiche le nom du responsable en cours, permet aussi de faire apparaître la liste des médecins afin de sélectionner un nouveau responsable.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.12      <a name="Heure"></a>Heure d'entrée</span></p>
<p><span style="font-family:Comic Sans MS">Indique la date d'entrée du patient dans le synoptique. Cette information est inchangée jusqu'à la fin du traitement.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.13     Heure de sortie</span></p>
<p><span style="font-family:Comic Sans MS">Indique l'heure du dernier déplacement dans un box. Si ce box est de type « Sortie », cette date représente la date de sortie du patient du service. </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">2.14      <a name="Box"></a>Box</span></p>
<p><span style="font-family:Comic Sans MS">Utilisé pour sélectionner le box de destination lors du déplacement d'un patient (voir bouton déplacer le patient). </span></p>
<p><span style="font-family:Comic Sans MS">                                                                                       </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1032 width=96 ></span></a><span style="font-family:Comic Sans MS">   </span></p>
<p align="center"><span style="font-family:Comic Sans MS"><hr></span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">4. Procédure dentrée du<a name="Procedure"></a>n patient</span><span style="font-family:Comic Sans MS">                                                                                                                                     </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=_x0000_i1031 width=96 ></span></a></p>
<p><span style="font-family:Comic Sans MS">Lalimentation de synoptux à patir du logiciel « maitre » (Medintux) peut se faire de deux manières. Soit par création dun fichier interface de type txt, soit par lalimentation directe des tables synoptux.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">4.1       Par fichier texte.</span></p>
<p><span style="font-family:Comic Sans MS">Le fichier interface contenant les éléments permettant denregistrer un nouveau patient dans synoptux doit être créé dans le répertoire dont le nom est paramétré dans le fichier synoptux.ini. Synoptux explore le contenu de ce dossier avec une périodicité également paramétrée dans synoptux.ini.</span></p>
<p><span style="font-family:Comic Sans MS">Le nom de ce fichier texte na aucune importance, mais il doit avoir une extension  « .txt », et le format doit être de type INI.</span></p>
<p><span style="font-family:Comic Sans MS">Le fichier contient deux types dinformations. Un paragraphe [Entree] qui fournit les informations propres au patient, et un ou plusieurs paragraphes [Tache_x] , ou x est un numéro de tâche de 1 à x. Ces paragraphes Taches ne sont pas obligatoires pour la création du patient dans Synoptux et peuvent être créés à postériori dans plusieurs fichiers consécutifs , mais toujours accompagnés du paragraphe Entree. Cest le GUID patient qui permet de faire le lien pour les ajouts suivants.</span></p>
<p><span style="font-family:Comic Sans MS">Un exemple de fichier est présenté ci-dessous. Les informations entre parenthèses sont propres à cette documentation et ne doivent pas apparaitre dans le fichier.</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">[Entree]</span><span style="font-family:Comic Sans MS">                                                                          (</span><span style="font-family:Comic Sans MS;font-style:italic">Début de paragraphe = Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Code_Box</span><span style="font-family:Comic Sans MS">=B1                                                                  (</span><span style="font-family:Comic Sans MS;font-style:italic">Non obligatoire, par défaut on prendra le box paramétré dans synoptux.ini)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Nom_Patient</span><span style="font-family:Comic Sans MS">=SILOUVA                                                  (</span><span style="font-family:Comic Sans MS;font-style:italic">Nom du patient = Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Prenom_Patient</span><span style="font-family:Comic Sans MS">=Philippe                                                 (</span><span style="font-family:Comic Sans MS;font-style:italic">Prénom du patient = Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">GUID_Patient</span><span style="font-family:Comic Sans MS">=ansi 90-325a-c-99h-dd2d246e29c3        (</span><span style="font-family:Comic Sans MS;font-style:italic">Code unique du patient, GUID pour Medintux, )<br />(permet dajouter des taches après une entrée partielle = Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Code_Responsable</span><span style="font-family:Comic Sans MS">=ro                                                      (</span><span style="font-family:Comic Sans MS;font-style:italic">Code du médecin responsable = Obligatoire</span><span style="font-family:Comic Sans MS">)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Commentaire</span><span style="font-family:Comic Sans MS">=Coup de couteau !                                       (</span><span style="font-family:Comic Sans MS;font-style:italic">Commentaire court sur le motif dentrée ; Non Obligatoire</span><span style="font-family:Comic Sans MS">)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Programme_Annexe</span><span style="font-family:Comic Sans MS">=D:/MedinTux/Programmes/drtux/bin/drtux.exe                <br />                                                                                       (</span><span style="font-family:Comic Sans MS;font-style:italic">Lien vers un programme annexe de consultation du patient ) Non Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Arguments_Annexe</span><span style="font-family:Comic Sans MS">=Lucette+Lucette+7543d90c-325a-4a9c-9901-d2246e2bb9c3+6521+ABID+LISA+D:/MedinTux/Programmes/Manager/bin/Manager.ini+D:/MedinTux/Programmes/Manager/bin/DataBase.cfg<br />                                                                                       (</span><span style="font-family:Comic Sans MS;font-style:italic">Arguments à passer au programme ci-dessus)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">[Tache_1]</span><span style="font-family:Comic Sans MS;font-style:italic">                                                                       (Début de paragraphe Tache = Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Code_Tache</span><span style="font-family:Comic Sans MS">=PAN                                                           (</span><span style="font-family:Comic Sans MS;font-style:italic">Code Tache = Obligatoire</span><span style="font-family:Comic Sans MS">)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Priorite</span><span style="font-family:Comic Sans MS">=1                                                                        (</span><span style="font-family:Comic Sans MS;font-style:italic">Numéro de priorité de 1 à x = Non Obligatoire)<br />                                                                                       (Synoptux affiche les taches en tenant compte de cet ordre, mais après la date de début et de fin )</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Commentaire</span><span style="font-family:Comic Sans MS">=Voir médecin avant                                    (</span><span style="font-family:Comic Sans MS;font-style:italic">Information courte qui sera affichée sur le bouton Tache . Non Obligatoire</span><span style="font-family:Comic Sans MS">)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Heure_Debut_Prevue</span><span style="font-family:Comic Sans MS">=10h20                                           (</span><span style="font-family:Comic Sans MS;font-style:italic">Heure de début prévue pour cette tâche . Non Obligatoire)<br />                                                                                       (Si cette heure est renseignée, le contrôle de lheure dépassée sera actif)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Heure_Fin_Prevue</span><span style="font-family:Comic Sans MS">=10h50                                                (</span><span style="font-family:Comic Sans MS;font-style:italic">Heure de fin prévue pour cette tâche. Non Obligatoire)<br />                                                                                       (Si cette date est renseignée le contrôle de lehure dépassée sera actif)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">PrimKey_Blob</span><span style="font-family:Comic Sans MS">=160651                                                     (</span><span style="font-family:Comic Sans MS;font-style:italic">Clé dun Enregistrement dans la table « rubriqueshead » de medintux.= Non Obligatoire)<br />                                                                                       (Si ce code est renseigné, un icône représentant un il sera affiché devant le nom de la tâche, et<br />                                                                                       (un toucher sur le bouton tâche affichera le contenu du texte (blob).</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Nom_Lecteur_Note</span><span style="font-family:Comic Sans MS">=C:/Program Files/Adobe/Reader 9.0/Reader/AcroRd32.exe<br />                                                                                       (</span><span style="font-family:Comic Sans MS;font-style:italic">Nom dun programme permettant de lire un fichier dinformation dont le nom est donnée ci-dessous.)<br />                                                                                       (Nom Obligatoire)</span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">Nom_Fichier_Note</span><span style="font-family:Comic Sans MS">=D:/tmp/PDF_tmp/CR ECHO DOPP PULSE.pdf<br />                                                                                       (</span><span style="font-family:Comic Sans MS;font-style:italic">Nom dun fichier dinformation associé à la tâche. Non Obligatoire)<br />                                                                                       (Si cest deux dernières données sont renseignées, un icône représentant un il sera affiché devant la tâche)<br />                                                                                       (Un toucher sur le bouton Tache exécutera le programme avec le nom du fichier en paramètre.)<br />                                                                                       (Incompatible avec la notion de PrimKey_Blob)</span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;font-weight:600">4.2       Par accès <a name="creatbase"></a>direct à la base.</span></p>
<p><span style="font-family:Comic Sans MS">Lalimentation directe des tables synoptux suit la même logique.</span></p>
<p><span style="font-family:Comic Sans MS">Le programme synoptux teste régulièrement la création dun nouvel enregistrement dans les tables « encours » et « encours_taches » afin de raffraichir lécran avec les nouvelles entrées immédiatement.</span></p>
<p><span style="font-family:Comic Sans MS">Pour exemple, voici les instructions SQL permettant dalimenter ces deux tables.</span></p>
<p><span style="font-family:Comic Sans MS">                </span><span style="font-family:Comic Sans MS;text-decoration:underline">Création dune entrée dans la table « encours » ; La primary key et un autoincrement. </span></p>
<p><span style="font-family:Comic Sans MS">INSERT INTO encours  <br />(EC_CodeBox, EC_NomPatient, EC_PrenomPatient, EC_Medecin, EC_GUIDPatient, EC_Replier, EC_Commentaire, <br />EC_HeureEntree, EC_ProgAnnexe, EC_ArgsAnnexe )<br />VALUES ('&quot; + CodeBox + &quot;','&quot; + NomPatient + &quot;','&quot; + PrenomPatient + &quot;','&quot; + CodeResp + &quot;','&quot; + GuidPatient + &quot;','1','&quot; + Commentaire + <br />&quot;','&quot; +QDateTime::currentDateTime().toString(&quot;yyyy-MM-dd hh:mm:ss&quot;) + &quot;','&quot; + ProgAnnexe + &quot;','&quot; + ArgsAnnexe + &quot;')&quot;;</span></p>
<p><span style="font-family:Comic Sans MS"> </span></p>
<p><span style="font-family:Comic Sans MS;text-decoration:underline">Création dun tâche dans la table « encours_taches ». Le numéro de tache (n° de ligne) est un autoincrement.</span></p>
<p><span style="font-family:Comic Sans MS">INSERT INTO encours_taches <br />(EN_PK_encours, EN_Code_tache, EN_Comment, EN_HeureDebPrevue, EN_HeureFinPrevue, EN_Priorite, <br />EN_PrimKey_blob, EN_NomFicNote, EN_NomProgNote )<br />VALUES ('&quot; + QString::number(EC_PK) + &quot;','&quot; + QString::number(NumTache) + &quot;','&quot; + CodeTache + &quot;','&quot; + Commentaire + &quot;','&quot; +<br />QString::number(EC_PK) + &quot;','&quot;  + CodeTache + &quot;','&quot; + Commentaire + &quot;','&quot; + DateDeb  + &quot;','&quot; + DateFin      + &quot;','&quot; + Priorite      + &quot;','&quot;<br />+ PrimKey_blob   + &quot;','&quot; + NomFicNote   + &quot;','&quot; + NomProgNote   + &quot;')&quot;;</span></p>
<p><span style="font-family:Comic Sans MS">Il faut donc récupérer la clé de lencours après création dans la table « encours » avant la création des tâches.<br /><br /></span><span style="font-family:Comic Sans MS;text-decoration:underline">Exemple d'une macro de création de tâche à insérer dans un menu déroulant</span><span style="font-family:Comic Sans MS"> :<br />cette macro vérifie si le patient est déjà dans la table en cours, si il n'y est pas il le crée<br />et crée dans la foulée la tâche.<br /></span><span style="font-family:Fixed;font-size:9pt">{{\<br />{{REM=------------------- definir le code de la tache ---------------------- }}\<br />{{:: VAR_SET(CodeTache,ECG)}}\<br />{{REM=------------------- definir le commentaire --------------------------- }}\<br />{{:: VAR_SET(CommentaireTache, {{:: Extract (Observation ,Circonstances :,Heure d'Arrivée SU)}})}}\<br />{{REM=------------------- definir la priorite ------------------------------ }}\<br />{{:: VAR_SET(PrioriteTache, 3)}}\</span></p>
<p><span style="font-family:Fixed;font-size:9pt">{{REM=------------------- recuperer le code en cours pour ce patient ---------------------- }}\<br />{{:: VAR_SET(EN_PK_encours, {{:: SQL_SELECT ( ST_encours , EC_PK , WHERE EC_GUIDPatient='{{GUID}}', 1,%,,%0)}})}}\<br />{{REM=------------------- si code en cours pour ce patient vide ---------------------- }}\<br />{{REM= inserer le patient }}\<br />{{:: VAR_SET(NotToDo,{{:: SI(S,{{VAR=EN_PK_encours}},=,,SQL_EXEC,NO_)}})}}\<br />{{REM=------------------- recuperer le GUID de l'utilisateur en cours ---------------------- }}\<br />{{:: VAR_SET(GUID_User, {{:: SQL_SELECT ( Personnes , GUID , WHERE Login='{{USER LOGIN MEDECIN}}', 1,%,,%0)}})}}\<br />{{REM=------------------- requete d'inscription du patient dans la salle d'attente ---------------------- }}\<br />{{:: {{VAR=NotToDo}}(INSERT INTO ST_encours &amp;#40;EC_CodeBox&amp;#44;EC_NomPatient&amp;#44;EC_PrenomPatient&amp;#44;EC_Medecin&amp;#44;EC_GUIDPatient&amp;#44;EC_Replier&amp;#44;EC_Commentaire&amp;#44;EC_HeureEntree&amp;#44;EC_ProgAnnexe&amp;#44;EC_ArgsAnnexe&amp;#41; VALUES &amp;#40;'A1'&amp;#44;'{{NOM PATIENT}}'&amp;#44;'{{PRENOM PATIENT}}'&amp;#44;'{{VAR=GUID_User}}'&amp;#44;'{{GUID}}'&amp;#44;'1'&amp;#44;'URGENCES MARIGNANE'&amp;#44;'{{DT=yyyy-MM-dd hh:mm:ss}}'&amp;#44;'../../drtux/bin/drtux'&amp;#44;'{{USER LOGIN MEDECIN}}|{{USER LOGIN MEDECIN}}|{{GUID}}|{{SQL_GET_DOSS_PK}}'&amp;#41;)}}\<br />{{:: VAR_SET(EN_PK_encours, {{:: SQL_SELECT ( ST_encours , EC_PK , WHERE EC_GUIDPatient='{{GUID}}', 1,%,,%0)}})}}\</span></p>
<p><span style="font-family:Fixed;font-size:9pt">{{REM=------------------- inscrire une tache pour ce patient ---------------------- }}\<br />{{:: SQL_EXEC(INSERT INTO ST_encours_taches&amp;#40;EN_PK_encours&amp;#44;EN_Code_tache&amp;#44;EN_Comment&amp;#44;EN_HeureDebPrevue&amp;#44;EN_HeureFinPrevue&amp;#44;EN_Priorite&amp;#41;VALUES&amp;#40;'{{VAR=EN_PK_encours}}'&amp;#44;'{{VAR=CodeTache}}'&amp;#44;'{{VAR=CommentaireTache}}'&amp;#44;'{{DT=yyyy-MM-dd hh:mm:ss}}'&amp;#44;'{{:: DATE_CALC({{DT=dd-MM-yyyy hh:mm:ss}},600,+,S,yyyy-MM-dd hh:mm:ss)}}'&amp;#44;'{{VAR=PrioriteTache}}'&amp;#41;)}}\<br />}}</span></p>
<p align="center"><span style="font-family:Comic Sans MS"><hr></span></p>
<p><span style="font-family:Comic Sans MS">                                                                                  </span><a href="#Sommaire"><span style="font-family:Comic Sans MS"><img border=0 height=41 src=Doc_synoptux_fichiers/image015.jpg v:shapes=Image_x0020_42 width=96 ></span></a></p>
</body></html>
